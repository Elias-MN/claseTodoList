<section class="todoapp">
  <header class="header">
    <div class="container">
      <h1>Mi lista de tareas</h1>
      <input [formControl]="nuevaTareaControlador" (keydown.enter)="checkTarea()" class="new-todo"
        placeholder="Nueva tarea" autofocus type="text" />
    </div>
  </header>
  <div class="container todoapp-wrapper">

    <section class="main">
      <ul class="todo-list">
        @for (task of listTask(); track task.id; let id = $index) {
        <li (dblclick)="updateModeEditing(id)" [class.editing]="task.editando">
          <div class="view">
            <input (click)="updateTask(id)" class="toggle" type="checkbox" [checked]="task.completada" />
            <label>{{ task.nombre }}</label>
            <button class="destroy" (click)="deleteTask(id)"></button>
          </div>
          <input class="edit" [value]="task.nombre" (click)="updateTask(id)" (blur)="updateTexto(id, $event)"
            (keydown.enter)="updateTexto(id, $event)" />
        </li>
        }
        <!--
        <li class="completed">
          <div class="view">
            <input class="toggle" type="checkbox" checked />
            <label>Darle un jamÃ³n a ElÃ­as</label>
            <button class="destroy"></button>
          </div>
          <input class="edit" value="" />
        </li>

        <li class="editing">
          <div class="view">
            <input class="toggle" type="checkbox" />
            <label>Hacer la compra...</label>
            <button class="destroy"></button>
          </div>
          <input class="edit" value="" />
        </li>
-->
      </ul>
    </section>

    @if (listTask().length > 0) {
    <footer class="footer">

      <span class="todo-count"><strong>{{ listTask().length }}</strong>
        @if(listTask().length > 1){
        tareas
        }@else{
        tarea
        }
      </span>

      <ul class="filters">
        <li>
          <a routerLink="/" class="selected">Todas</a>
        </li>
        <li>
          <a routerLink="/pending">Pendientes</a>
        </li>
        <li>
          <a routerLink="/completed">Completadas</a>
        </li>
      </ul>

      <button class="clear-completed">Limpiar</button>
    </footer>
    }
  </div>
</section>
